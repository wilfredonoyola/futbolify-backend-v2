# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type SigninOutputDto {
  access_token: String!
  isOnboardingCompleted: Boolean!
  avatarUrl: String
  roles: [UserRole!]!
}

"""The roles a user can have in the system"""
enum UserRole {
  USER
  ADMIN
  SUPER_ADMIN
}

type UserOutputDto {
  id: String!
  email: String!
  name: String
  phone: String
  roles: [UserRole!]!
}

type GoogleSigninResponse {
  email: String!
  userName: String!
  avatarUrl: String
  isProfileCompleted: Boolean!
}

type TimelineEventDto {
  type: String!
  detail: String!
  team: String!
  player: String
  assist: String
  minute: Int!
  isHome: Boolean
  importance: Float
}

type BettingAnalysisDto {
  recommendedBet: String!
  confidence: Int!
  reason: String!
  odds: Float!
  timestamp: String!
}

type PossessionDto {
  home: Int!
  away: Int!
}

type LiveMatchOutputDto {
  id: Int!
  homeTeam: String!
  awayTeam: String!
  minute: Int
  scoreHome: Int!
  scoreAway: Int!
  shots: Int
  shotsOnTarget: Int
  dangerousAttacks: Int
  corners: Int
  pressureScore: Float
  recentActivityScore: Float
  hasRecentActivity: Boolean
  possession: PossessionDto
  xG: Float
  attacks: PossessionDto
  bigChances: PossessionDto
  bettingAnalysis: BettingAnalysisDto
  marketAvailable: Boolean
  lastEventType: String
  isGoodForOver05: Boolean
  isGoodForOver15: Boolean
  isLateMatch: Boolean
  bookmakers: [String!]
  timeline: [TimelineEventDto!]
  state: MatchState
  yellowCards: Int
  redCards: Int
  offsides: Int
  shotsOffTarget: Int
  finalProbability: Float
  historicalComment: String
}

enum MatchState {
  NotStarted
  FirstHalf
  HalfTime
  SecondHalf
  Finished
  Normal
  Potential
  ReadyToBet
  NoBet
  NoLateValue
  ModerateLateValue
  HighLateValue
}

type PredictionRecordDto {
  id: ID!
  matchId: Int!
  minute: Int!
  scoreHome: Int!
  scoreAway: Int!
  pressureScore: Float!
  recentActivityScore: Float!
  liveProbability: Float!
  finalProbability: Float!
  historicalComment: String
  goalOccurred: Boolean!
  homeTeam: String!
  awayTeam: String!
  createdAt: DateTime!
  updatedAt: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type AccuracyByRangeDto {
  range: String!
  count: Int!
  correct: Int!
  accuracy: Float!
}

type AccuracyByScoreDto {
  score: String!
  total: Int!
  correct: Int!
  accuracy: Float!
}

type PredictionAccuracyStatsDto {
  totalPredictions: Int!
  totalCorrect: Int!
  accuracyGlobal: Float!
  byFinalProbability: [AccuracyByRangeDto!]!
  byScore: [AccuracyByScoreDto!]!
}

type HistoricalSupportDto {
  similarMatches: Int!
  withGoals: Int!
  percentage: Float!
  comment: String!
}

type LiveMatchPublicViewDto {
  matchId: Int!
  homeTeam: String!
  awayTeam: String!
  minute: Int!
  scoreHome: Int!
  scoreAway: Int!
  pressureScore: Float
  recentActivityScore: Float
  finalProbability: Float
  historicalComment: String
  reasoning: String
  state: String!
  decision: String!
  hasRecentActivity: Boolean!
  isLateMatch: Boolean!
  lastEventTypes: [String!]
  lastUpdate: DateTime!
}

type Query {
  user(email: String!): UserOutputDto
  users: [UserOutputDto!]!
  liveMatches: [LiveMatchOutputDto!]!
  lateMatches(options: LateMatchOptionsDto): [LiveMatchOutputDto!]!
  matchById(id: Float!): LiveMatchOutputDto
  getPredictionHistory(matchId: Int!): [PredictionRecordDto!]!
  getAllPredictions: [PredictionRecordDto!]!
  getPredictionAccuracyStats: PredictionAccuracyStatsDto!
  predictedLiveMatches: [LiveMatchPublicViewDto!]!
}

input LateMatchOptionsDto {
  minMinute: Int
  minPressureScore: Float
  requireRecentActivity: Boolean
  maxGoals: Int
}

type Mutation {
  signin(userInput: SigninInputDto!): SigninOutputDto!
  Signup(userInput: SignupInputDto!): Boolean!
  ConfirmSignup(confirmInput: ConfirmSignupInputDto!): SigninOutputDto!
  forgotPassword(email: String!): Boolean!
  confirmForgotPassword(userInput: ConfirmPasswordInputDto!): Boolean!
  resendVerificationCode(email: String!): Boolean!
  addUser(userInput: AddUserInputDto!): UserOutputDto!
  googleSignin(idToken: String!): GoogleSigninResponse!
  completeProfile(updateProfileInput: UpdateProfileInputDto!): Boolean!
  updateUser(id: String!, updateUserInput: UpdateUserInput!): UserOutputDto!
  removeUser(id: String!): Boolean!
  validatePredictionsBatch: Int!
}

input SigninInputDto {
  email: String!
  password: String!
}

input SignupInputDto {
  email: String!
  password: String!
}

input ConfirmSignupInputDto {
  email: String!
  verificationCode: String!
  password: String!
  phone: Float!
  userName: String!
  birthday: DateTime!
}

input ConfirmPasswordInputDto {
  email: String!
  newPassword: String!
  verificationCode: String!
}

input AddUserInputDto {
  email: String!
  password: String!
  phone: Float!
  role: UserRole
  name: String
}

input UpdateProfileInputDto {
  userName: String!
  birthday: DateTime!
  phone: String
  password: String!
  idToken: String!
}

input UpdateUserInput {
  roles: [UserRole!]
  name: String
}